<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Eske</title>
    <link rel="icon" type="image/png" href="Portfolio_Logo.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="top-bar">
            <h1>Portfolio-indl칝g</h1>
            <button id="theme-toggle-btn">Toggle Dark Mode</button>
            <div id="auth-controls"></div>
        </div>
        <div id="filter-controls">
            <div><label for="search-input">S칮g</label><input type="search" id="search-input" placeholder="Indtast s칮geord"></div>
            <div><label for="filter-subject">Filtr칠r efter fag</label><select id="filter-subject"><option value="all">Alle fag</option><option value="Cyber Security">Cyber Security</option><option value="Appudvikling">Appudvikling</option><option value="Andet">Andet</option></select></div>
            <div><label for="start-date">Startdato</label><input type="date" id="start-date"></div>
            <div><label for="end-date">Slutdato</label><input type="date" id="end-date"></div>
        </div>

        <div id="portfolio-list"></div>
    </div>

    <script type="module">
        import { formatDate, getSubjectIcon, typeTranslations } from './main.js';

        document.addEventListener('DOMContentLoaded', () => {
            const portfolioList = document.getElementById('portfolio-list');
            const searchInput = document.getElementById('search-input');
            const filterSubject = document.getElementById('filter-subject');
            const startDateFilter = document.getElementById('start-date');
            const endDateFilter = document.getElementById('end-date');
            const themeToggleBtn = document.getElementById('theme-toggle-btn');

            // --- HARDCODED DATA START ---
            const portfolioEntries = [
                {
                    id: 16,
                    title: "Strategi for Kvalitetssikring: Widget Testing",
                    date: "2025-11-21",
                    subject: "Appudvikling",
                    goal: "Sikre UI-stabilitet gennem automatiserede tests.",
                    description: "I takt med at UI'et bliver mere komplekst (f.eks. med betinget visning af loading-spinners og fejlkoder), stiger risikoen for regressioner. Jeg har derfor lagt en strategi for at implementere Widget Tests.\nMin plan er at teste AnalysisLoadingView isoleret. Jeg vil verificere, at den viser den korrekte tekst, n친r den modtager en statusbesked. Dette er en fordel ved Flutter: Vi kan teste UI-komponenter lynhurtigt uden at skulle starte en simulator op, hvilket g칮r det muligt at k칮re testene som en del af CI/CD i fremtiden.",
                    code: "testWidgets('AnalysisLoadingView displays the provided status message', (\n  WidgetTester tester,\n) async {\n  // Arrange\n  const testInput = 'Analyzing image...';\n\n  // Act\n  await tester.pumpWidget(\n    const MaterialApp(\n      home: Scaffold(body: AnalysisLoadingView(statusMessage: testInput)),\n    ),\n  );\n\n  // Assert\n  expect(find.text(testInput), findsOneWidget);\n  expect(find.byType(CircularProgressIndicator), findsOneWidget);\n});"
                },
                {
                    id: 15,
                    title: "Sikker Autentificering: OAuth 2.0",
                    date: "2025-11-14",
                    subject: "Cyber Security",
                    goal: "Design af sikkert login-flow med Azure AD.",
                    description: "For at sikre Confidentiality har jeg implementeret OAuth 2.0. Appen h친ndterer aldrig brugerens kodeord, men modtager et midlertidigt AccessToken. Jeg har lavet en AuthLink, der automatisk injicerer dette token som en Bearer header i alle API-kald. Det sikrer, at kun godkendte brugere kan tilg친 backendens endpoints.\nVigtigst af alt har jeg konfigureret klienten til at kommunikere over SSL/TLS (HTTPS), s친 tokenet ikke kan opsnappes i klar tekst under transport.",
                    code: "// Fra lib/core/config/graphql_config.dart\nfinal AuthLink authLink = AuthLink(\n  getToken: () async => token != null ? 'Bearer $token' : null,\n);"
                },
                {
                    id: 14,
                    title: "Asynkronitet: WebSockets & Subscriptions",
                    date: "2025-11-07",
                    subject: "Appudvikling",
                    goal: "Implementere real-time dataflow uden polling.",
                    description: "Vores AI-analyse tager tid. I stedet for ineffektivt at sp칮rge serveren gentagne gange ('polling'), har jeg implementeret GraphQL Subscriptions over WebSockets. Det kr칝vede en avanceret ops칝tning af min GraphQLClient, der kan splitte trafikken: HTTP til almindelige kald og WebSockets til real-time events. Det viser styrken ved asynkron programmering i moderne apps.",
                    code: "// lib/core/config/graphql_config.dart\nfinal Link splitLink = Link.split(\n  (request) => request.isSubscription,\n  webSocketLink,\n  authedHttpLink,\n);"
                },
                {
                    id: 13,
                    title: "Sikring af Integritet: Hashing",
                    date: "2025-10-15",
                    subject: "Cyber Security",
                    goal: "Anvende kryptografiske hash-funktioner til dataintegritet.",
                    description: "Med reference til I'et i CIA-modellen (Integritet), har jeg implementeret manuel hashing af billedfiler f칮r upload. Ved at beregne en SHA-256 checksum p친 klienten og sende den med til serveren, sikrer vi matematisk, at filen ikke er korrumperet under upload.",
                    code: "// Fra FileUploadService.dart\nString _calculateSha256(Uint8List bytes) {\n  return 'sha256:${sha256.convert(bytes)}';"
                },
                {
                    id: 12,
                    title: "Fra Spaghetti til Arkitektur",
                    date: "2025-10-08",
                    subject: "Appudvikling",
                    goal: "Implementere 'Separation of Concerns' med Provider-patternet.",
                    description: "I takt med at appen voksede, blev min kode uoverskuelig. Jeg valgte at refaktorere appen til en Feature-first arkitektur og implementere Provider til state management. Det minder om Dependency Injection fra .NET, hvor jeg nu kan injicere services (AuthService, CameraService) i toppen af appen i stedet for at sende dem manuelt rundt. Det har gjort koden langt mere testbar og vedligeholdelsesvenlig.",
                    code: "// lib/main.dart\nrunApp(MultiProvider(\n  providers: [\n    ChangeNotifierProvider(create: (_) => AuthService()),\n    Provider(create: (_) => CameraService()),\n  ],\n  child: const App(),\n));"
                },
                {
                    id: 11,
                    title: "Kafka Server 2",
                    date: "2025-10-02",
                    subject: "Cyber Security",
                    goal: "Ops칝tte en Kafka server til kommunikation mellem services",
                    description: "Jeg har arbejdet videre ops칝ttningen en Kafka-instans til vores backend for at h친ndtere beskeder mellem services. Et kritisk krav var sikkerheden, s친 jeg dykkede ned i SASL (Simple Authentication and Security Layer).\nPlanen var at konfigurere Kafka til at bruge SASL for at sikre, at kun godkendte services kunne producere eller forbruge beskeder, kombineret med SSL/TLS til kryptering af trafikken. Desv칝rre st칮dte jeg p친 store kompatibilitetsproblemer med Docker p친 min Raspberry Pi (ARM-arkitektur), som forhindrede serveren i at starte stabilt op. Selvom implementationen ikke lykkedes fuldt ud, gav det mig en dyb teoretisk forst친else for, hvordan SASL fungerer som et sikkerhedslag i distribuerede systemer kontra simpel HTTP-auth."
                },
                {
                    id: 10,
                    title: "Kafka Server 1",
                    date: "2025-10-01",
                    subject: "Cyber Security",
                    goal: "Ops칝tte en Kafka server til kommunikation mellem services",
                    description: "Internt i vores backend vil vi bruge kafka til at kommunikere mellem microservices. Jeg s친 en mulighed for at f친 en form for praktisk anvendelse og ops칝tning af noget IT-sikkerhed inden for mit interessepunkt. Nemlig service-to-service autherization og authentikation, og selvf칮lgelig kryptering af de tranmiterrede data mellem services.\n\nDerfor har jeg begivet mig ud i at ops칝tte en kafka server p친 min Raspberry Pi.\nF칮rst tjekkede jeg kompatibilitet, med Arm-processorer, da det er et problem jeg har haft f칮r, men det burde v칝re kompatibelt.\nDern칝st dannede jeg mig et minimalt overblik over hvad kafka overhovedet er, da det ikke falder direkte ind under mine emner. Der kunne jeg forst친 at en kafka-server konstant skriver og l칝ser p친 disken, og generelt kan v칝re relativt kr칝vende for en server at k칮re. Min raspberry er dog af en nyere version med 8gb RAM og en NVME SSD, s친 det burde afhj칝lpe de bekymringer.\n\nNu gik jeg s친 i gang med ops칝tningen, hvor jeg fulgte en guide.\nJeg gjorde brug af SSH til min rpi og docker til at containerize ops칝tningen.\n\nJeg st칮dte p친 problemer som jeg ser videre p친 en anden gang."
                },
                {
                    id: 9,
                    title: "Pre-signed URL",
                    date: "2025-09-29",
                    subject: "Cyber Security",
                    goal: "L칝r om pre-signed URL",
                    description: "Til vores projekt kommer vi til at skulle tage billeder som s친 skal f칮res igennem sytemets microservices for at blive analyseret af en AI-service.\nFor at g칮re dette har vi valgt at g칮re brug af pre-signed URL. Det vil g칮re det muligt for os at gemme billedet via en url i vores storage, og s친 give en anden service en url til at kunne tilg친 billedet.\n\nDenne metode tillader os at g칮re s친 en service skal have en gyldig URL, som giver tilladelse til at udf칮re den specifikke handling som 칮nskes. Denne URL vil s친 ogs친 kunne udl칮be, efter et interval der er fastsat af os."
                },
                {
                    id: 8,
                    title: "Kamera adgang fortsat",
                    date: "2025-09-29",
                    subject: "Appudvikling",
                    goal: "Optimer kamera adgang i flutter",
                    description: "Jeg har allerede noget kode til at tilg친 kameraet gennem appen. Det har jeg s친 arbejdet videre med og s칮rget for at have en klar forst친else af hvad der sker hvor. Jeg l칝rte vigtigheden af App Lifecycle, alts친 at kameraet skal frigives (controller.dispose()), hvis brugeren minimerer appen, for ikke at l친se ressourcen for andre apps.",
                    code: "@override\nvoid didChangeAppLifecycleState(AppLifecycleState state) {\n  if (state == AppLifecycleState.inactive) {\n    _controller?.dispose(); // Frigiv ressourcer\n  } else if (state == AppLifecycleState.resumed) {\n    _initializeCamera(); // Genstart\n  }\n}"
                },
                {
                    id: 7,
                    title: "Kamera adgang i Flutter",
                    date: "2025-09-26",
                    subject: "Appudvikling",
                    goal: "Find ud af hvordan man tilg친r telefonens kamera gennem appen.",
                    description: "Jeg har unders칮gt hvordan jeg tilg친r kameraet i min app. Hvilke tilladelser der skal gives fra brugeren p친 de forskellige OS, og hvordan jeg s친 indhenter de tilladelser.\n\nDet startede ud med at v칝re forvirrende, fordi jeg stadig kommer forbi koncepter og navne jeg ikke kender i Dart. Jeg fik dog lavet noget der n칝sten virker som jeg vil have det.",
                    code: "<uses-permission android:name=\"android.permission.CAMERA\" />"
                },
                {
                    id: 6,
                    title: "Demo App",
                    date: "2025-09-22",
                    subject: "Appudvikling",
                    goal: "Udvide min forst친else af udvikling af en app",
                    description: "Jeg har med min nuv칝rende forst친else af mit valgte framework og udviklingsetup, startet et nyt flutter projekt. Det er udelukkende lavet til at jeg kan afpr칮ve mine f칝rdigheder og teste koncepter som jeg st칮der p친 eller selv postulerer.\n\nIndtil videre har jeg bare pr칮vet at oprette nogle pages fra bunden, uden en guide.\nJeg kommer til at bruge dette projekt i fremtiden til l칝ring."
                },
                {
                    id: 5,
                    title: "Afstikker til kvantekryptografi",
                    date: "2025-09-16",
                    subject: "Cyber Security",
                    goal: "F친 viden om kvantekryptografi og 'harvest now, decrypt later' trusler.",
                    description: "Jeg har l칝st op p친 den grundl칝ggende teori bag kvantecomputere, og deres qubits. Pga. den m친de de udnytter kvantestadiet superposition, vil de g칮re vores nuv칝rende passwords tiln칝rmelsesvist ubrugelige.\n\nJeg har unders칮gt hvordan det kan lade sig g칮re, og hvor langt teknologien er.\nDa kvantecomputere ikke er s칝rligt udbredte endnu, pga. sv칝rhedsgraden i at lave og k칮re dem, s친 er problemet med dekryptering ikke stort endnu.\nTilgeng칝ld fandt jeg frem til at mange indsamler information i dets nuv칝rende krypterede stadie og gemmer det. P친 den m친de vil de kunne dekryptere dataen n친r kvantecomputere bliver mere tilg칝ngelige.\n\nFor at mitigere disse trusler udvikles kvantekryptografi, som udnytter kvante-love til at kryptere data p친 en m친de som er 'ug칝ttelig'."
                },
                {
                    id: 4,
                    title: "OWASP Mobile top 10 - intro",
                    date: "2025-09-10",
                    subject: "Cyber Security",
                    goal: "Danne generelt kendskab til kritiske principper i mobilapplikations-sikkerhed",
                    description: "Jeg har l칝st OWASP mobile top 10 for at danne mig en overordnet forst친else for nogle af de mest essentielle punkter man sakl v칝re opm칝rksom p친 ved udvikling af en mobil-app.\n\nOWASP er en organisation der siden start 2000 har vurderet og prioriteret trusler i IT verdenen.\nDeres top 10 lister giver en prioriteret og opdateret liste over de st칮rste trusler for den givne kategori.\n\nJeg har kigget p친 deres 2024 mobile top 10, da jeg 칮nsker at vide hvad jeg skal v칝re s칝rligt opm칝rksom p친 ved udviklingen af vores app.\n\nJeg har gennemg친et de forskellige punkter og dannet overfladisk forst친else af emnerne.\n\n- M2: Inadequate Supply Chain Security: Relevant, da vi bruger 3. parts pakker.\n- M5: Insecure Communication: Data skal krypteres i transit.\n- M9: Insecure Data Storage: Kritisk ift. tokens.\n\nOvenst친ende havde umiddelbart mest relevans."
                },
                {
                    id: 3,
                    title: "Flutter opstart",
                    date: "2025-09-05",
                    subject: "Appudvikling",
                    goal: "F친 reelt kendskab til Flutter/Dart, og dennes basale ops칝tning og funktionalitet.",
                    description: "Jeg har arbejdet praktisk med Flutter, hvor jeg er begyndt at skrive kode i den tilh칮rende widget struktur. Jeg har gennemg친et kurset 'Flutter Essential Training: Build for Multiple Platforms' p친 linkedinlearning, som har hjulpet mig med at forst친 strukturen i flutter"
                },
                {
                    id: 2,
                    title: "Valg af framework",
                    date: "2025-08-18",
                    subject: "Appudvikling",
                    goal: "Fasts칝tte hvilket framework/sprog jeg vil skrive appen i.",
                    description: "Jeg har, baseret p친 anbefalinger, taget udgangspunkt i at unders칮ge Flutter, og sammenligne det med andre muligheder. Flutters indbyggede render engine giver mulighed for at bygge native til alle prim칝re platforme uden brug af en 'bridge' til at fungere som translation layer, hvilket sikrer h칮j ydeevne. Flutter opbygges ved at bruge nestede widgets og skrives i Dart. Alt i alt har jeg besluttet at bruge Flutter.",
                    code: "import 'package:flutter/material.dart';\nvoid main() {\n  runApp(\n    MaterialApp(\n      // The `home` property is the widget for the default screen.\n      home: Scaffold(\n        appBar: AppBar(\n          title: const Text('Widget Structure'),\n          backgroundColor: Colors.blueGrey,\n        ),\n        // The body of the screen.\n        body: Center(\n          // A Column arranges its children vertically.\n          child: Column(\n            // Center the column's children on the main axis (vertically).\n            mainAxisAlignment: MainAxisAlignment.center,\n            // The list of child widgets.\n            children: <Widget>[\n              const Text(\n                'This is a Column',\n                style: TextStyle(fontSize: 24, fontWeight: FontWeight.bold),\n              ),\n// A SizedBox is often used to create space between widgets.\n              const SizedBox(height: 20),\nconst Icon(\n                Icons.arrow_downward,\n                size: 30,\n              ),\nconst SizedBox(height: 20),\n// A Row arranges its children horizontally.\n              const Row(\n                // Center the row's children on the main axis (horizontally).\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: <Widget>[\n                  Icon(Icons.lightbulb, color: Colors.yellow),\n                  SizedBox(width: 10), // Horizontal space\n                  Text('This is a Row'),\n                  SizedBox(width: 10), // Horizontal space\n                  Icon(Icons.lightbulb, color: Colors.yellow),\n                ],\n              ),\n            ],\n          ),\n        ),\n      ),\n    ),\n  );\n}"
                },
                {
                    id: 1,
                    title: "Afklaring og indgr칝nsning af emner",
                    date: "2025-08-18",
                    subject: "Cyber Security",
                    goal: "F친 afklaring af hvilke emner jeg vil ber칮re inden for It Sikkerhed",
                    description: "Jeg har udforsket muligheder for at angribe emnet It-sikkerhed, med et perspektiv i appudvikling. Det virker begr칝nset ift. at skulle bygge ekstra viden p친 min eksisterende viden om it-sikkerhed. Jeg er dog sikker p친 at der kommer noget, og indtil da er jeg interesseret i at l칝re teori bag OWASP top 10 og OWASP mobile top 10."
                },
                {
                    id: 0,
                    title: "Portfolio opstart",
                    date: "2025-08-13",
                    subject: "Andet",
                    goal: "Oprette en portfolio til personligt brug",
                    description: "Jeg g칮r brug af github pages til at oprette en side, hvorp친 jeg vil kunne dokumentere min fremgang. Deriblandt forskellige problemstillinger og deres l칮sning, generel vidensfor칮gelse og fremgang ift l칝ringsm친l.\nDette g칮r jeg for at have et overblik over at jeg g칮r fremskridt, og for at have et opslagsv칝rk til senere brug."
                }
            ];
            // --- HARDCODED DATA END ---

            // Dark Mode Toggle
            const currentTheme = localStorage.getItem('theme');
            if (currentTheme === 'dark') {
                document.body.classList.add('dark-mode');
            }

            themeToggleBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                let theme = 'light';
                if (document.body.classList.contains('dark-mode')) {
                    theme = 'dark';
                }
                localStorage.setItem('theme', theme);
            });

            // This function replaces the API fetch logic
            const renderEntries = () => {
                const filteringLogic = entry => {
                    const searchTerm = searchInput.value.toLowerCase();
                    const selectedSubject = filterSubject.value;
                    const startDate = startDateFilter.value;
                    const endDate = endDateFilter.value;

                    const matchesSearch = searchTerm === '' ||
                        entry.title.toLowerCase().includes(searchTerm) ||
                        entry.goal.toLowerCase().includes(searchTerm) ||
                        (entry.description && entry.description.toLowerCase().includes(searchTerm));

                    const matchesSubject = selectedSubject === 'all' || entry.subject === selectedSubject;
                    const entryDate = entry.date;
                    const matchesDate = (!startDate || entryDate >= startDate) && (!endDate || entryDate <= endDate);

                    return matchesSearch && matchesSubject && matchesDate;
                };

                const filteredEntries = portfolioEntries.filter(filteringLogic).sort((a, b) => new Date(b.date) - new Date(a.date));
                portfolioList.innerHTML = filteredEntries.length === 0 ? '<p>Ingen indl칝g fundet, der matcher dine kriterier.</p>' : '';

                filteredEntries.forEach(entry => {
                    const entryElement = document.createElement('div');
                    entryElement.classList.add('portfolio-entry');

                    entryElement.innerHTML = `
                                <div class="entry-header">
                                    <div class="entry-header-info">
                                        <h3>${entry.title}</h3>
                                        <div class="entry-meta">
                                            <span>游늰 ${formatDate(entry.date)}</span>
                                            <span>${getSubjectIcon(entry.subject)} ${entry.subject}</span>
                                        </div>
                                        <div class="entry-goal">
                                            <div class="entry-section-title">M친l</div>
                                            <p>${entry.goal.replace(/\n/g, '<br>')}</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="entry-details">
                                    ${entry.description ? `<div class="entry-section-title">Beskrivelse</div><p>${entry.description.replace(/\n/g, '<br>')}</p>` : ''}
                                    ${entry.code ? `<button class="toggle-btn toggle-content-btn" data-type="code">Vis ${typeTranslations.code}</button><div class="collapsible-content" data-type="code"><pre><code>${entry.code.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</code></pre></div>` : ''}
                                    ${entry.picture ? `<button class="toggle-btn toggle-content-btn" data-type="picture">Vis ${typeTranslations.picture}</button><div class="collapsible-content" data-type="picture"><img src="${entry.picture}" alt="${entry.title} Picture"></div>` : ''}
                                    ${entry.video ? `<button class="toggle-btn toggle-content-btn" data-type="video">Vis ${typeTranslations.video}</button><div class="collapsible-content" data-type="video"><video controls src="${entry.video}"></video></div>` : ''}
                                </div>`;
                    portfolioList.appendChild(entryElement);
                });
            };

            portfolioList.addEventListener('click', (e) => {
                const target = e.target;
                const entryElement = target.closest('.portfolio-entry');
                if (!entryElement) return;

                const details = entryElement.querySelector('.entry-details');

                // Logic for the toggle buttons (Vis/Skjul Kode/Billede)
                if (target.closest('.toggle-content-btn')) {
                    const type = target.dataset.type;
                    const content = entryElement.querySelector(`.collapsible-content[data-type="${type}"]`);

                    content.classList.toggle('visible');
                    target.textContent = content.classList.contains('visible') ? `Skjul ${typeTranslations[type]}` : `Vis ${typeTranslations[type]}`;

                    // Recalculate max-height if the details section is already open
                    if (details.style.maxHeight && details.style.maxHeight !== '0px') {
                        details.style.maxHeight = `${details.scrollHeight}px`;
                    }
                    return;
                }

                // Logic for expanding/collapsing the main details section
                if (!target.closest('a, button')) {
                    const isExpanded = details.style.maxHeight && details.style.maxHeight !== '0px';
                    if (isExpanded) {
                        details.style.maxHeight = '0px';
                    } else {
                        details.style.maxHeight = `${details.scrollHeight}px`;
                    }
                }
            });

            startDateFilter.addEventListener('change', renderEntries);
            endDateFilter.addEventListener('change', renderEntries);
            searchInput.addEventListener('input', renderEntries);
            filterSubject.addEventListener('change', renderEntries);

            // Initial render
            renderEntries();
        });
    </script>
</body>
</html>